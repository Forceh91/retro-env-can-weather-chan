(function(t){function e(e){for(var a,o,c=e[0],s=e[1],l=e[2],d=0,h=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0672":function(t,e,n){"use strict";n("2f24")},"07a6":function(t,e,n){"use strict";n("4a60")},"10dd":function(t,e,n){},1248:function(t,e,n){},"18fa":function(t,e,n){"use strict";n("3b58")},"2ce7":function(t,e,n){},"2cf2":function(t,e,n){},"2f24":function(t,e,n){},3870:function(t,e,n){"use strict";n("765a")},"3b58":function(t,e,n){},"3ea4":function(t,e,n){},4327:function(t,e,n){"use strict";n("3ea4")},"45cb":function(t,e,n){"use strict";n("b38b")},"4a60":function(t,e,n){},"4ad1":function(t,e,n){},"55de":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("99af");var a=n("7a23"),i=n("bc3a"),r=n.n(i),o=n("130e"),c=n("b80d"),s=(n("f9e3"),n("1a26"),function(t){return Object(a["J"])("data-v-5dd53c6c"),t=t(),Object(a["H"])(),t}),l={key:1,id:"weather_channel"},u={id:"top_bar"},d={key:0,id:"crawler"},h={id:"content"},b={id:"bottom_bar"},p={id:"clock"},v=["innerHTML"],m=s((function(){return Object(a["j"])("div",{id:"banner"},"Environment Canada Weather",-1)}));function f(t,e,n,i,r,o){var c,s,f=Object(a["O"])("router-view"),g=Object(a["O"])("crawler"),O=Object(a["O"])("currentconditions"),j=Object(a["O"])("forecast"),S=Object(a["O"])("aqhiwarning"),y=Object(a["O"])("outlook"),w=Object(a["O"])("mbhighlow"),C=Object(a["O"])("surrounding"),T=Object(a["O"])("almanac"),M=Object(a["O"])("warnings"),D=Object(a["O"])("windchill"),I=Object(a["O"])("citystats"),H=Object(a["O"])("lastmonth"),L=Object(a["O"])("playlist");return Object(a["G"])(),Object(a["i"])("div",null,[o.isWeatherChannel?(Object(a["G"])(),Object(a["i"])("div",l,[Object(a["j"])("div",{id:"main_screen",style:Object(a["A"])({"background-color":r.backgroundCol})},[Object(a["j"])("div",u,[r.crawlerMessages.length?(Object(a["G"])(),Object(a["i"])("div",d,[Object(a["n"])(g,{messages:r.crawlerMessages},null,8,["messages"])])):Object(a["h"])("",!0)]),Object(a["j"])("div",h,[o.isCurrentConditions?(Object(a["G"])(),Object(a["g"])(O,{key:0})):Object(a["h"])("",!0),o.isForecast?(Object(a["G"])(),Object(a["g"])(j,{key:1,forecast:t.ecShortForecast,reload:r.shouldDoReloadAnimation},null,8,["forecast","reload"])):Object(a["h"])("",!0),o.isAQHIWarning?(Object(a["G"])(),Object(a["g"])(S,{key:2,aqhi:t.ecAirQuality},null,8,["aqhi"])):Object(a["h"])("",!0),o.isOutlook?(Object(a["G"])(),Object(a["g"])(y,{key:3,forecast:t.ecForecast,normals:t.ecRegionalNormals},null,8,["forecast","normals"])):Object(a["h"])("",!0),o.isMBHighLow?(Object(a["G"])(),Object(a["g"])(w,{key:4,enabled:r.showMBHighLowSetting,"manitoba-data":r.province.highLowAroundMB},null,8,["enabled","manitoba-data"])):Object(a["h"])("",!0),o.isSurrounding?(Object(a["G"])(),Object(a["g"])(C,{key:5,observations:r.surrounding.canada},null,8,["observations"])):Object(a["h"])("",!0),o.isUSSurrounding?(Object(a["G"])(),Object(a["g"])(C,{key:6,observations:r.surrounding.usa},null,8,["observations"])):Object(a["h"])("",!0),o.isAlmanac?(Object(a["G"])(),Object(a["g"])(T,{key:7,almanac:t.ecAlmanac},null,8,["almanac"])):Object(a["h"])("",!0),o.isWarnings?(Object(a["G"])(),Object(a["g"])(M,{key:8,warnings:t.ecWarnings},null,8,["warnings"])):Object(a["h"])("",!0),o.isWindChillEffects?(Object(a["G"])(),Object(a["g"])(D,{key:9,windchill:t.ecWindchill},null,8,["windchill"])):Object(a["h"])("",!0),o.isCityStats?(Object(a["G"])(),Object(a["g"])(I,{key:10,"season-precip":null===(c=r.season)||void 0===c?void 0:c.precip,"is-winter":null===(s=r.season)||void 0===s?void 0:s.isWinter},null,8,["season-precip","is-winter"])):Object(a["h"])("",!0),o.isLastMonthSummary?(Object(a["G"])(),Object(a["g"])(H,{key:11,"last-month":r.climate.lastMonth},null,8,["last-month"])):Object(a["h"])("",!0)]),Object(a["j"])("div",b,[Object(a["j"])("div",p,[Object(a["m"])(" TIME "),Object(a["j"])("span",null,Object(a["R"])(o.currentTime),1)]),Object(a["j"])("div",{id:"date",innerHTML:o.currentDate},null,8,v),m])],4),Object(a["n"])(L,{playlist:r.playlist},null,8,["playlist"])])):(Object(a["G"])(),Object(a["g"])(f,{key:0}))])}var g=n("5530"),O=(n("ac1f"),n("5319"),n("5502")),j=n("b166"),S=n("2186"),y=n("1344"),w=Object(y["a"])(),C={id:"current_conditions"},T={key:0,id:"no_data"};function M(t,e,n,i,r,o){var c=Object(a["O"])("conditions");return Object(a["G"])(),Object(a["i"])("div",C,[n.conditions?(Object(a["G"])(),Object(a["g"])(c,{key:1,city:n.city,observed:n.observed,conditions:n.conditions},null,8,["city","observed","conditions"])):(Object(a["G"])(),Object(a["i"])("div",T,"Current conditions temporarily unavailable"))])}var D=function(t){return Object(a["J"])("data-v-253e3d49"),t=t(),Object(a["H"])(),t},I={id:"conditions_table"},H={id:"conditions_table_content"},L=["innerHTML"],N={class:"reloadable reloadable-2"},A=D((function(){return Object(a["j"])("span",null,"Temp ",-1)})),k=["innerHTML"],R={class:"reloadable reloadable-3"},_=["innerHTML"],W=D((function(){return Object(a["j"])("span",null,"Wind ",-1)})),P=["innerHTML"],G={class:"reloadable reloadable-4"},U=D((function(){return Object(a["j"])("span",null,"Hum  ",-1)})),E=["innerHTML"],F={class:"reloadable reloadable-5"},x=["innerHTML"],Y={class:"reloadable reloadable-6"},q=D((function(){return Object(a["j"])("span",null,"Vsby ",-1)})),$=["innerHTML"],B=["innerHTML"],Q={class:"reloadable reloadable-7"},V={key:0},z={class:"reloadable reloadable-7"},K={key:0},J={key:1,class:"reloadable reloadable-6"},Z=D((function(){return Object(a["j"])("span",null,"      Visibility  ",-1)})),X=["innerHTML"],tt={key:0,class:"reloadable"},et=["innerHTML"],nt=["innerHTML"];function at(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",I,[Object(a["j"])("div",H,[Object(a["j"])("div",{class:"reloadable reloadable-1",id:"title",innerHTML:o.titleString},null,8,L),Object(a["j"])("div",null,[Object(a["j"])("div",N,[A,Object(a["j"])("span",{innerHTML:t.padString(o.temperature,5,!0)},null,8,k)]),Object(a["j"])("div",R,[Object(a["j"])("span",{innerHTML:t.padString("",6)},null,8,_),W,Object(a["j"])("span",{innerHTML:o.wind},null,8,P)])]),Object(a["j"])("div",null,[Object(a["j"])("div",G,[U,Object(a["j"])("span",{innerHTML:t.padString(o.humidity,5,!0)},null,8,E)]),Object(a["j"])("div",F,[Object(a["j"])("span",{innerHTML:t.padString("",6)},null,8,x),Object(a["j"])("span",null,Object(a["R"])(o.currentCondition),1)])]),Object(a["j"])("div",null,[o.shouldShowExtraData?(Object(a["G"])(),Object(a["i"])(a["b"],{key:0},[Object(a["j"])("div",Y,[q,Object(a["j"])("span",{innerHTML:t.padString(o.visibility,6,!0)},null,8,$)]),Object(a["j"])("span",{innerHTML:t.padString("",5,!0)},null,8,B),Object(a["j"])("div",Q,[o.shouldShowWindchill?(Object(a["G"])(),Object(a["i"])("span",V,"Wind Chill "+Object(a["R"])(t.ecWindchill),1)):Object(a["h"])("",!0)]),Object(a["j"])("div",z,[o.shouldShowAQHI?(Object(a["G"])(),Object(a["i"])("span",K,"Air Quality "+Object(a["R"])(o.aqhiSummary),1)):Object(a["h"])("",!0)])],64)):(Object(a["G"])(),Object(a["i"])("div",J,[Z,Object(a["j"])("span",{innerHTML:o.visibility},null,8,X)]))]),n.showPressure?(Object(a["G"])(),Object(a["i"])("div",tt,[Object(a["j"])("span",{innerHTML:t.padString("pressure",11,!0)},null,8,et),Object(a["m"])(" "),Object(a["j"])("span",{innerHTML:o.pressure},null,8,nt)])):Object(a["h"])("",!0)])])}n("caad"),n("2532"),n("1276"),n("fb6a");var it={name:"condition.mixin",methods:{truncateConditions:function(t){return t?(t.includes("with")&&(t=t.split(" with")[0]),t.includes("and")&&(t=t.split(" and")[0]),"".concat(t.slice(0,16))):""},harshTruncateConditions:function(t){return t=t.toLowerCase(),(t.includes("light thunderstorm")||t.includes("heavy thunderstorm"))&&(t=t.replace(/thunderstorm/gi,"tstorm")),t=t.replace(/(light|heavy) (rain|snow) and (snow|rain)/gi,"rain/snow"),t=t.replace(/(light|heavy) freezing rain/gi,"freezing rain"),t.length>13&&(t=t.replace(/light/gi,"lght").replace(/heavy/gi,"hvy")),t=t.replace(/\s(rain|snow)shower/gi," $1shwr"),t=this.truncateConditions(t),"".concat(t.slice(0,13))}}},rt=n("e3ee"),ot=n("f7f1"),ct=n("5dea"),st={name:"observed-mixin",methods:{formatObservedLong:function(t,e,n){if(!t)return"";var a=Object(rt["a"])(t.time),i=t.timezone;n=n||"";var r=a.getHours(),o="h aa ",c="'".concat(i,"&nbsp;").concat(n,"'");(r<10||r>12&&r<22)&&(c="'".concat(i).concat(n,"&nbsp;&nbsp;'")),o+=c,e&&(12===r&&(o="'".concat(this.padString("Noon",10)).concat(n,"'")),0===r&&(o="'".concat(this.padString("Midnight",10)).concat(n,"'")));var s="MMM dd/yy",l=Object(j["a"])(a,"".concat(o).concat(s)),u=l.replace(/\s0/,"&nbsp;&nbsp;");return u},formatObservedMonthDate:function(t,e){if(!t)return"";var n=Object(rt["a"])(t.time),a=Object(j["a"])(n,"MMM'&nbsp;' d");return e?a.replace(/jun&nbsp;/gi,"june").replace(/jul&nbsp;/gi,"july").replace(/sep&nbsp;/gi,"sept"):a},getDaysAheadFromObserved:function(t,e){e=e||6;var n=Object(rt["a"])(t.time),a=Object(ot["a"])(n,e);return a},getDaysBehindFromObserved:function(t,e){var n=t||{},a=n.time;if(a){e=e||1;var i=Object(rt["a"])(a),r=Object(ct["a"])(i,e);return r}}}},lt={name:"string-pad-mixin",methods:{padString:function(t,e,n,a){if(void 0===t||null===t)return"";t="".concat(t),a=a||"&nbsp;";for(var i=e-t.length,r="",o=0;o<i;o++)r+=a;return n?"".concat(r).concat(t):"".concat(t).concat(r)}}},ut={name:"Conditions",props:{showPressure:{type:Boolean,default:!0}},mixins:[lt,it,st],computed:Object(g["a"])(Object(g["a"])({},Object(O["b"])(["ecCity","ecObservedAtStation","ecConditions","ecWindchill","ecAirQuality"])),{},{titleString:function(){return"&nbsp;".concat(this.ecCity,"&nbsp;&nbsp;&nbsp;").concat(this.observedFormatted)},observedFormatted:function(){return this.formatObservedLong(this.ecObservedAtStation,!0)},currentCondition:function(){var t;return this.truncateConditions(null===(t=this.ecConditions)||void 0===t?void 0:t.condition)},temperature:function(){var t,e,n=null===(t=this.ecConditions)||void 0===t||null===(e=t.temperature)||void 0===e?void 0:e.value;return n=null===n||isNaN(n)?"N/A":Math.round(n),"".concat(n," ").concat(this.ecConditions.temperature&&this.ecConditions.temperature.units||"")},wind:function(){var t=this.ecConditions.wind;if(!t)return"";var e=t.speed&&t.speed.value||"",n=t.gust&&t.gust.value||0,a=t.direction,i=this.padString(a,3,!0);return n?"".concat(i,"&nbsp;&nbsp;").concat(e,"G").concat(n,"&nbsp;"):!e||parseFloat(e)<2?this.padString("CALM",6,!0):"".concat(i).concat(this.padString("".concat(e," KMH"),8,!0))},humidity:function(){var t=this.ecConditions.relativeHumidity;return t?this.padString("".concat(t.value||"N/A"," ").concat(t.units),4,!0):""},visibility:function(){var t=this.ecConditions.visibility;if(!t)return"";var e=t.value,n=t.units;if(!e)return"";var a=parseFloat(e);return a<1?"".concat(1e3*a," m"):"".concat(Math.round(e)," ").concat(n)},pressure:function(){var t=this.ecConditions.pressure;if(!t)return"";var e=t.value,n=t.units,a=t.tendency;return e?"".concat(this.padString(e,5,!0)," ").concat(n,"&nbsp;&nbsp;").concat(a):""},shouldShowWindchill:function(){return this.ecWindchill>0},aqhiSummary:function(){var t;return this.shouldShowAQHI&&(null===(t=this.ecAirQuality)||void 0===t?void 0:t.summary)},shouldShowAQHI:function(){return!this.shouldShowWindchill&&null!==this.ecAirQuality||!1},shouldShowExtraData:function(){return this.shouldShowWindchill||this.shouldShowAQHI||!1}})};n("4327");ut.render=at,ut.__scopeId="data-v-253e3d49";var dt=ut,ht={name:"CurrentConditions",props:{city:String,observed:String,conditions:Object,riseset:Object},components:{conditions:dt},computed:{sunriseset:function(){var t=this.riseset;if(!t)return"";var e=t.dateTime[1],n=t.dateTime[3];return"Sunrise..".concat(null===e||void 0===e?void 0:e.hour,":").concat(null===e||void 0===e?void 0:e.minute," AM Sunset..").concat(this.pad((null===n||void 0===n?void 0:n.hour)%12),":").concat(null===n||void 0===n?void 0:n.minute," PM")}},mounted:function(){},methods:{pad:function(t){return t<10?"0".concat(t):t}}};n("dda6");ht.render=M,ht.__scopeId="data-v-2f2e20e2";var bt=ht,pt=function(t){return Object(a["J"])("data-v-0625ee14"),t=t(),Object(a["H"])(),t},vt={key:0,id:"no_data"},mt={id:"next_forecast",class:"full-width reloadable reloadable-8"},ft={class:"label"},gt={key:1,id:"forecast_cont"},Ot={id:"title"},jt=pt((function(){return Object(a["j"])("br",null,null,-1)})),St={class:"page_forecast"},yt={class:"label"},wt=pt((function(){return Object(a["j"])("br",null,null,-1)})),Ct={class:"page_forecast"},Tt={key:0,class:"label"};function Mt(t,e,n,i,r,o){var c,s,l,u,d,h,b=Object(a["O"])("conditions");return Object(a["G"])(),Object(a["i"])("div",{id:"forecast",class:Object(a["y"])({"reload-animation":n.reload})},[o.forecastUnavailable?(Object(a["G"])(),Object(a["i"])("div",vt,"Forecast temporarily unavailable")):(Object(a["G"])(),Object(a["i"])(a["b"],{key:1},[r.page?(Object(a["G"])(),Object(a["i"])("div",gt,[Object(a["j"])("div",Ot,Object(a["R"])(t.ecCity)+" Forecast Cont..",1),jt,Object(a["j"])("div",St,[Object(a["j"])("span",yt,[Object(a["m"])(Object(a["R"])(null===(l=n.forecast[r.page])||void 0===l?void 0:l.day)+"..",1),Object(a["j"])("span",null,Object(a["R"])(t.truncateForecastText(null===(u=n.forecast[r.page])||void 0===u?void 0:u.textSummary,!0)),1)])]),wt,Object(a["j"])("div",Ct,[r.page+1<=n.forecast.length-1?(Object(a["G"])(),Object(a["i"])("span",Tt,[Object(a["m"])(Object(a["R"])(null===(d=n.forecast[r.page+1])||void 0===d?void 0:d.day)+"..",1),Object(a["j"])("span",null,Object(a["R"])(t.truncateForecastText(null===(h=n.forecast[r.page+1])||void 0===h?void 0:h.textSummary,!0)),1)])):Object(a["h"])("",!0)])])):(Object(a["G"])(),Object(a["i"])(a["b"],{key:0},[Object(a["n"])(b,{"show-pressure":!1}),Object(a["j"])("div",mt,[Object(a["j"])("span",ft,[Object(a["m"])("Forecast for "+Object(a["R"])(o.prettifyForecastDay(null===(c=n.forecast[0])||void 0===c?void 0:c.day))+"..",1),Object(a["j"])("span",null,Object(a["R"])(t.truncateForecastText(null===(s=n.forecast[0])||void 0===s?void 0:s.textSummary,!0)),1)])])],64))],64))],2)}var Dt={name:"forecast.mixin",methods:{truncateForecastText:function(t,e){return t?(t=t.replace(/KM\/H/gi,"kmh"),t=t.replace(/zero/gi,0),e&&(t=t.replace(/plus ([1-5])/gi,"+$1")),t=t.replace(/plus (\d+)/gi,"$1"),t=t.replace(/minus (\d+)/gi,"-$1"),t=t.replace(/(\d+) percent/gi,"$1%"),t):""}}},It=15e3,Ht=5e4,Lt={name:"Forecast",props:{forecast:Array,reload:Boolean},components:{conditions:dt},mixins:[Dt],data:function(){return{page:0,pageChangeInterval:null,longPageChangeTimeout:null}},computed:Object(g["a"])(Object(g["a"])({},Object(O["b"])(["ecCity"])),{},{forecastUnavailable:function(){return!this.forecast||!this.forecast.length}}),watch:{reload:function(){this.reload&&this.generateForecastPages(!0)}},mounted:function(){this.generateForecastPages(this.reload)},unmounted:function(){clearInterval(this.pageChangeInterval),clearTimeout(this.longPageChangeTimeout)},methods:{generateForecastPages:function(t){var e=this,n=function(){e.pageChangeInterval=setInterval((function(){e.changePage()}),It)};this.pageChangeInterval&&clearInterval(this.pageChangeInterval),this.longPageChangeTimeout&&clearTimeout(this.longPageChangeTimeout),this.page=0,t?this.longPageChangeTimeout=setTimeout((function(){e.changePage(),n()}),Ht):n()},changePage:function(){var t,e;if(this.page?this.page=(this.page+2)%(null===(e=this.forecast)||void 0===e?void 0:e.length):this.page=++this.page%(null===(t=this.forecast)||void 0===t?void 0:t.length),!this.page||this.forecastUnavailable)return w.emit("forecast-complete")},prettifyForecastDay:function(t){return t=(t||"").toLowerCase(),t.includes("night")?"Tonight":"Today"}}};n("8194"),n("3870");Lt.render=Mt,Lt.__scopeId="data-v-0625ee14";var Nt=Lt,At=(n("b0c0"),{id:"surrounding"}),kt=["innerHTML"],Rt={key:0},_t={key:1,id:"observation_table"},Wt=["innerHTML"],Pt=["innerHTML"],Gt=["innerHTML"];function Ut(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",At,[Object(a["j"])("div",{id:"title",innerHTML:o.dateTime},null,8,kt),o.observationsUnavailable?(Object(a["G"])(),Object(a["i"])("div",Rt,"No observations available")):(Object(a["G"])(),Object(a["i"])("div",_t,[(Object(a["G"])(!0),Object(a["i"])(a["b"],null,Object(a["M"])(o.paginatedObservations,(function(t,e){return Object(a["G"])(),Object(a["i"])("div",{key:"observation.".concat(e)},[Object(a["j"])("span",{innerHTML:o.padTitle(t.name)},null,8,Wt),Object(a["j"])("span",{innerHTML:o.padString(o.roundTemp(t.observation.temp),4,!0)},null,8,Pt),Object(a["m"])("  "),Object(a["j"])("span",{innerHTML:o.padString(o.trimCondition(t.observation.condition),13)},null,8,Gt)])})),128))]))])}n("d3b7"),n("25f0");var Et=13,Ft=7,xt=15e3,Yt={name:"Surrounding",props:{observed:String,timezone:String,observations:{type:Array,default:function(){return[]}}},mixins:[it,st],computed:Object(g["a"])(Object(g["a"])({},Object(O["b"])(["ecObservedAtStation"])),{},{observationsUnavailable:function(){return!this.observations||!this.observations.length},dateTime:function(){if(!this.ecObservedAtStation)return"";var t=this.padString("",5,!0),e=this.formatObservedLong(this.ecObservedAtStation,!0,"&nbsp;");return"".concat(t," ").concat(e)},paginatedObservations:function(){var t,e=Math.max(0,(this.page-1)*Ft),n=Math.min(e+Ft,null===(t=this.observations)||void 0===t?void 0:t.length);return this.observations.slice(e,n)}}),data:function(){return{page:1,pageChangeInterval:null,pages:1}},mounted:function(){this.generateObservationsScreen()},unmounted:function(){clearInterval(this.pageChangeInterval)},methods:{generateObservationsScreen:function(){var t,e=this;this.page=1,this.pages=Math.ceil((null===(t=this.observations)||void 0===t?void 0:t.length)/Ft),this.pageChangeInterval=setInterval((function(){e.changePage()}),xt)},changePage:function(){if(this.page=++this.page%(this.pages+1),!this.page||this.observationsUnavailable)return w.emit("observation-complete")},padTitle:function(t){for(var e=t.slice(0,Et),n=Et-e.length,a="",i=0;i<n;i++)a+="&nbsp;";return"".concat(e).concat(a)},trimCondition:function(t){return this.harshTruncateConditions(t)},padString:function(t,e,n){null!==t&&void 0!==t||(t=""),t=t.toString(),t.length||(t="");for(var a=e-t.length,i="",r=0;r<a;r++)i+="&nbsp;";return n?"".concat(i).concat(t):"".concat(t).concat(i)},roundTemp:function(t){return isNaN(t)||null===t?"":Math.round(t)}}};n("a7d0");Yt.render=Ut,Yt.__scopeId="data-v-67fca8ac";var qt=Yt,$t=function(t){return Object(a["J"])("data-v-78a69bdf"),t=t(),Object(a["H"])(),t},Bt={id:"almanac"},Qt={key:0,id:"no_data"},Vt={id:"almanac_table"},zt=$t((function(){return Object(a["j"])("div",{class:"header"},"Last Year Normal Records  Year",-1)})),Kt={id:"almanac_hi"},Jt=["innerHTML"],Zt=["innerHTML"],Xt=["innerHTML"],te=["innerHTML"],ee={id:"almanac_lo"},ne=["innerHTML"],ae=["innerHTML"],ie=["innerHTML"],re=["innerHTML"];function oe(t,e,n,i,r,o){var c=Object(a["O"])("conditions");return Object(a["G"])(),Object(a["i"])("div",Bt,[o.almanacUnavailable?(Object(a["G"])(),Object(a["i"])("div",Qt,"Almanac temporarily unavailable")):(Object(a["G"])(),Object(a["i"])(a["b"],{key:1},[Object(a["n"])(c),Object(a["j"])("div",Vt,[zt,Object(a["j"])("div",Kt,[Object(a["m"])(" Hi "),Object(a["j"])("span",{innerHTML:o.highLastYear},null,8,Jt),Object(a["m"])("  "),Object(a["j"])("span",{innerHTML:o.highNormal},null,8,Zt),Object(a["m"])("  "),Object(a["j"])("span",{innerHTML:o.recordHigh},null,8,Xt),Object(a["m"])(" IN "),Object(a["j"])("span",{innerHTML:o.recordHighYear},null,8,te)]),Object(a["j"])("div",ee,[Object(a["m"])(" Lo "),Object(a["j"])("span",{innerHTML:o.lowLastYear},null,8,ne),Object(a["m"])("  "),Object(a["j"])("span",{innerHTML:o.lowNormal},null,8,ae),Object(a["m"])("  "),Object(a["j"])("span",{innerHTML:o.recordLow},null,8,ie),Object(a["m"])(" IN "),Object(a["j"])("span",{innerHTML:o.recordLowYear},null,8,re)])])],64))])}var ce={name:"Almanac",props:{almanac:Object},components:{conditions:dt},mixins:[lt],data:function(){return{}},computed:{almanacUnavailable:function(){return!this.almanac},lastYear:function(){return this.almanac.lastYear||{}},highLastYear:function(){var t,e,n=(null===(t=this.lastYear)||void 0===t||null===(e=t.temp)||void 0===e?void 0:e.max)||"N/A";return"".concat(this.padString(n,5,!0))},highNormal:function(){var t,e=null===(t=this.almanac)||void 0===t?void 0:t.temperature[2];return"".concat(this.padString(null===e||void 0===e?void 0:e.value,5,!0))},recordHigh:function(){var t,e=null===(t=this.almanac)||void 0===t?void 0:t.temperature[0];return"".concat(this.padString(null===e||void 0===e?void 0:e.value,5,!0))},recordHighYear:function(){var t,e=null===(t=this.almanac)||void 0===t?void 0:t.temperature[0];return"".concat(null===e||void 0===e?void 0:e.year)},lowLastYear:function(){var t,e,n=(null===(t=this.lastYear)||void 0===t||null===(e=t.temp)||void 0===e?void 0:e.min)||"N/A";return"".concat(this.padString(n,5,!0))},lowNormal:function(){var t,e=null===(t=this.almanac)||void 0===t?void 0:t.temperature[3];return"".concat(this.padString(null===e||void 0===e?void 0:e.value,5,!0))},recordLow:function(){var t,e=null===(t=this.almanac)||void 0===t?void 0:t.temperature[1];return"".concat(this.padString(null===e||void 0===e?void 0:e.value,5,!0))},recordLowYear:function(){var t,e=null===(t=this.almanac)||void 0===t?void 0:t.temperature[1];return"".concat(null===e||void 0===e?void 0:e.year)}},methods:{}};n("07a6");ce.render=oe,ce.__scopeId="data-v-78a69bdf";var se=ce,le=(n("a4d3"),n("e01a"),{id:"warnings"}),ue={key:0},de={key:1,id:"warnings_table"},he={class:"headline"},be={class:"description"};function pe(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",le,[o.warningsUnavailable?(Object(a["G"])(),Object(a["i"])("div",ue,"Warnings/Alerts temporarily unavailable")):(Object(a["G"])(),Object(a["i"])("ul",de,[(Object(a["G"])(!0),Object(a["i"])(a["b"],null,Object(a["M"])(o.paginatedWarnings,(function(t,e){return Object(a["G"])(),Object(a["i"])("li",{key:e,class:Object(a["y"])({flash:o.shouldFlashWarning(t)})},[Object(a["j"])("div",he,"    "+Object(a["R"])(o.cleanupHeadline(t.headline)),1),Object(a["j"])("div",be,"    "+Object(a["R"])(o.truncateWarningDescription(t.description)),1)],2)})),128))]))])}var ve=n("2909"),me=(n("498a"),1),fe=3e4,ge={name:"Warnings",props:{warnings:{type:Array,default:function(){}}},computed:{warningsUnavailable:function(){return!this.warnings||!this.warnings.length},paginatedWarnings:function(){var t,e,n=Math.max(0,(this.page-1)*me),a=Math.min(n+me,null===(t=this.warningsList)||void 0===t?void 0:t.length);return null===(e=this.warningsList)||void 0===e?void 0:e.slice(n,a)}},data:function(){return{page:1,pageChangeInterval:null,pages:1,warningsList:[]}},mounted:function(){this.generateWarningsScreen()},unmounted:function(){clearInterval(this.pageChangeInterval)},methods:{generateWarningsScreen:function(){var t,e=this;if(this.warningsUnavailable)return w.emit("warnings-complete");this.warningsList=Object(ve["a"])(this.warnings),this.page=1,this.pages=Math.ceil((null===(t=this.warningsList)||void 0===t?void 0:t.length)/me),this.pageChangeInterval=setInterval((function(){e.changePage()}),fe)},changePage:function(){if(this.page=++this.page%(this.pages+1),!this.page||this.warningsUnavailable)return w.emit("warnings-complete")},shouldFlashWarning:function(t){return!!t&&"Immediate"===t.urgency},cleanupHeadline:function(t){return t=(t||"").replace(" in effect",""),t},truncateWarningDescription:function(t){return t=(t||"").split(/\n\n###/g)[0],t=t.split("Locations impacted")[0],t.trim()}}};n("fd9a");ge.render=pe,ge.__scopeId="data-v-29769570";var Oe=ge,je={id:"windchill"},Se=Object(a["l"])('<div id="title" data-v-14dbbaf2>     Effect of Windchill</div><ul id="windchill_table" data-v-14dbbaf2><li data-v-14dbbaf2><span data-v-14dbbaf2>1350-1600</span> <span data-v-14dbbaf2>Uncomfortably Cold</span></li><li data-v-14dbbaf2><span data-v-14dbbaf2>1600-1800</span> <span data-v-14dbbaf2>Risk of frostbite</span></li><li data-v-14dbbaf2><span data-v-14dbbaf2>1800-2000</span> <span data-v-14dbbaf2>Exposed skin freezes<br data-v-14dbbaf2>in a few minutes</span></li><li data-v-14dbbaf2><span data-v-14dbbaf2>2000-2300</span> <span data-v-14dbbaf2>Exposed skin freezes<br data-v-14dbbaf2>in one minute</span></li><li data-v-14dbbaf2><span data-v-14dbbaf2>Over 2300</span> <span data-v-14dbbaf2>Hazardous conditions</span></li></ul>',2),ye=[Se];function we(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",je,ye)}n("a9e3");var Ce={name:"Windchill",props:{windchill:Number},computed:{windchillNotApplicable:function(){return!this.windchill}},data:function(){return{}},mounted:function(){this.windchillNotApplicable&&w.emit("windchill-complete")},unmounted:function(){},methods:{}};n("0672");Ce.render=we,Ce.__scopeId="data-v-14dbbaf2";var Te=Ce,Me={id:"mb_high_low_screen"},De=["innerHTML"],Ie=["innerHTML"],He={id:"city_list"},Le=["innerHTML"],Ne=["innerHTML"],Ae=["innerHTML"],ke=["innerHTML"];function Re(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",Me,[Object(a["j"])("div",{innerHTML:o.topLine},null,8,De),Object(a["j"])("div",{innerHTML:o.bottomLine},null,8,Ie),Object(a["j"])("ul",He,[(Object(a["G"])(!0),Object(a["i"])(a["b"],null,Object(a["M"])(o.weatherStations,(function(e,n){return Object(a["G"])(),Object(a["i"])("li",{key:"mb.city.".concat(n)},[Object(a["j"])("span",{innerHTML:t.padString(e.name,10)},null,8,Le),Object(a["j"])("span",{innerHTML:o.parseDisplayTemp(e.display_temp)},null,8,Ne),Object(a["j"])("span",{innerHTML:t.padString(" ",6,!0)},null,8,Ae),Object(a["j"])("span",{innerHTML:o.generatePrecipString(e.yesterday_precip),class:"precip-amount"},null,8,ke)])})),128))])])}n("b680");var _e={name:"temperature-mixin",methods:{roundTemperatureToInt:function(t,e){if(e=e||"N/A",isNaN(t)||null===t)return e;var n=parseFloat(t);return Math.round(n)}}},We={name:"mbhighlow",mixins:[_e,st,lt],props:{enabled:Boolean,manitobaData:{type:Object,default:function(){return null}}},computed:Object(g["a"])(Object(g["a"])({},Object(O["b"])(["ecObservedAtStation"])),{},{period:function(){var t;return null===(t=this.manitobaData)||void 0===t?void 0:t.period},weatherStations:function(){var t;return(null===(t=this.manitobaData)||void 0===t?void 0:t.stations)||[]},timeOfDay:function(){var t=new Date,e=t.getHours()<20?"Yesterday:":"Today:";return"min_temp"===this.period?"Overnight":e},yesterday:function(){return this.getDaysBehindFromObserved(this.ecObservedAtStation,1)},yesterdayDateFormatted:function(){return Object(j["a"])(this.yesterday,"MMM dd")},tempClass:function(){return"min_temp"===this.period?"Low:":"High"},topLine:function(){return("min_temp"===this.period?this.padString(this.timeOfDay,17,!0):this.padString(this.tempClass,17,!0))+this.topPrecipLine},topPrecipLine:function(){return"&nbsp;&nbsp;&nbsp;24-Hr Precip"},bottomLine:function(){return("min_temp"!==this.period?this.padString(this.timeOfDay,17,!0):this.padString(this.tempClass,17,!0))+this.bottomPrecipLine},bottomPrecipLine:function(){return"&nbsp;&nbsp;&nbsp;&nbsp;For ".concat(this.yesterdayDateFormatted)}}),mounted:function(){this.checkScreenIsEnabled()},methods:{checkScreenIsEnabled:function(){this.enabled&&this.manitobaData&&this.weatherStations&&this.weatherStations.length||w.emit("mbhighlow-complete")},generatePrecipString:function(t){if(!t)return"MISSING";if(isNaN(null===t||void 0===t?void 0:t.value)||!((null===t||void 0===t?void 0:t.value)||"").length)return(null===t||void 0===t?void 0:t.value)||"MISSING";var e=parseFloat(null===t||void 0===t?void 0:t.value).toFixed(1);return e<.1?this.padString("NIL",6,!0):e<.2?this.padString("TRACE",7,!0):this.padString("".concat(e," ").concat(null===t||void 0===t?void 0:t.units),8,!0)},parseDisplayTemp:function(t){var e=this.roundTemperatureToInt(t,"M");return this.padString("".concat(e),6,!0)}}};n("db9a");We.render=Re,We.__scopeId="data-v-70e15e3a";var Pe=We,Ge={id:"city_stats"},Ue={key:0},Ee={key:1},Fe=["innerHTML"],xe={id:"rise_set"},Ye={id:"precip_title"},qe=["innerHTML"],$e=["innerHTML"],Be=["innerHTML"],Qe=["innerHTML"],Ve=["innerHTML"];function ze(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",Ge,[o.cityStatsUnavailable?(Object(a["G"])(),Object(a["i"])("div",Ue,"Stats temporarily unavailable")):(Object(a["G"])(),Object(a["i"])("div",Ee,[Object(a["j"])("div",{id:"title",innerHTML:o.titleString},null,8,Fe),Object(a["j"])("div",xe,Object(a["R"])(o.sunriseset),1),Object(a["j"])("div",Ye,"    "+Object(a["R"])(o.precipTitle),1),Object(a["j"])("div",{id:"precip_actual",innerHTML:o.precipActual},null,8,qe),Object(a["j"])("div",{id:"precip_normal",innerHTML:o.precipNormal},null,8,$e),Object(a["j"])("div",{id:"hot_cold_title",innerHTML:o.hotColdTitleString},null,8,Be),Object(a["j"])("div",{id:"hot_spot",innerHTML:o.hotSpotString},null,8,Qe),Object(a["j"])("div",{id:"cold_spot",innerHTML:o.coldSpotString},null,8,Ve)]))])}var Ke=28,Je=30,Ze=8,Xe=Je-Ze-2,tn={name:"city-stats",mixins:[lt,st],props:{seasonPrecip:{type:Object,default:function(){return{precip:{},isWinter:!1}}},isWinter:Boolean},computed:Object(g["a"])(Object(g["a"])({},Object(O["b"])(["ecCity","ecObservedAtStation","ecSunriseSet","ecHotColdSpotsCanada"])),{},{cityStatsUnavailable:function(){return!this.ecCity||!this.ecObservedAtStation},currentDate:function(){return this.formatObservedMonthDate(this.ecObservedAtStation,!0)},sunriseset:function(){var t=this.ecSunriseSet;if(!t)return"";var e=t.rise,n=t.set,a=Object(rt["a"])(e.time),i=Object(rt["a"])(n.time),r=Object(j["a"])(a,"h:mm 'AM'"),o=Object(j["a"])(i,"h:mm 'PM'");return"Sunrise..".concat(r," Sunset..").concat(o)},titleString:function(){return"&nbsp;&nbsp;".concat(this.ecCity," Statistics - ").concat(this.currentDate)},hotColdTitleString:function(){return"Canadian Hot/Cold Spot - ".concat(this.currentDate)},hotSpotCity:function(){var t,e;return((null===(t=this.ecHotColdSpotsCanada)||void 0===t||null===(e=t.hot)||void 0===e?void 0:e.city)||"N/A").slice(0,Xe)},hotSpotProvince:function(){var t,e;return(null===(t=this.ecHotColdSpotsCanada)||void 0===t||null===(e=t.hot)||void 0===e?void 0:e.province)||"N/A"},hotSpotTemp:function(){var t,e,n=null===(t=this.ecHotColdSpotsCanada)||void 0===t||null===(e=t.hot)||void 0===e?void 0:e.temp,a=isNaN(n)?"N/A":Math.round(n);return this.padString("".concat(a),3,!0)},hotSpotEllipsis:function(){var t=this.hotSpotCity.length+Ze;return this.padString("..",Je-t,!1,".")},hotSpotString:function(){return"&nbsp;".concat(this.hotSpotCity,",&nbsp;").concat(this.hotSpotProvince,"&nbsp;").concat(this.hotSpotEllipsis).concat(this.hotSpotTemp)},coldSpotCity:function(){var t,e;return((null===(t=this.ecHotColdSpotsCanada)||void 0===t||null===(e=t.cold)||void 0===e?void 0:e.city)||"N/A").slice(0,Xe)},coldSpotProvince:function(){var t,e;return(null===(t=this.ecHotColdSpotsCanada)||void 0===t||null===(e=t.cold)||void 0===e?void 0:e.province)||"N/A"},coldSpotTemp:function(){var t,e,n=null===(t=this.ecHotColdSpotsCanada)||void 0===t||null===(e=t.cold)||void 0===e?void 0:e.temp,a=isNaN(n)?"N/A":Math.round(n);return this.padString("".concat(a),3,!0)},coldSpotEllipsis:function(){var t=this.coldSpotCity.length+Ze;return this.padString("..",Je-t,!1,".")},coldSpotString:function(){return"&nbsp;".concat(this.coldSpotCity,",&nbsp;").concat(this.coldSpotProvince,"&nbsp;").concat(this.coldSpotEllipsis).concat(this.coldSpotTemp)},precipTitle:function(){return"Total ".concat((this.isWinter,"Precipitation")," Since")},precipActual:function(){var t,e="".concat(this.padString((null===(t=this.seasonPrecip)||void 0===t?void 0:t.totalPrecip)||0,5,!0)," MM"),n="".concat(this.isWinter?"October":"April"," 1st"),a=Ke-8-n.length;return"&nbsp;&nbsp;".concat(n,"&nbsp;").concat(this.padString(".",a,!1,".")).concat(e)},precipNormal:function(){var t,e="".concat(this.padString((null===(t=this.seasonPrecip)||void 0===t?void 0:t.normalPrecip)||0,5,!0)," MM"),n="Normal",a=Ke-8-n.length;return"&nbsp;&nbsp;".concat(n,"&nbsp;").concat(this.padString(".",a,!1,".")).concat(e)}}),methods:{pad:function(t){return t<10?"0".concat(t):t}}};n("62da");tn.render=ze,tn.__scopeId="data-v-ea1df930";var en=tn,nn=["src"];function an(t,e,n,i,r,o){return r.currentTrack?(Object(a["G"])(),Object(a["i"])("audio",{key:0,id:"playlist_audio",src:"".concat(o.playlistURL).concat(r.currentTrack),autoplay:"",volume:"0.5",onEnded:e[0]||(e[0]=function(){return o.selectRandomTrackFromPlaylist&&o.selectRandomTrackFromPlaylist.apply(o,arguments)}),onError:e[1]||(e[1]=function(){return o.selectRandomTrackFromPlaylist&&o.selectRandomTrackFromPlaylist.apply(o,arguments)})},null,40,nn)):Object(a["h"])("",!0)}var rn="http://".concat(window.location.hostname),on=window.location.port,cn="".concat(rn,":").concat(on,"/"),sn={name:"Playlist",props:{playlist:{type:Array,default:function(){return[]}}},watch:{playlist:function(){this.currentTrack||this.selectRandomTrackFromPlaylist()}},data:function(){return{currentTrack:null}},computed:{playlistURL:function(){return cn}},mounted:function(){this.setupPlaylist()},methods:{setupPlaylist:function(){this.playlist&&this.playlist.length&&this.selectRandomTrackFromPlaylist()},selectRandomTrackFromPlaylist:function(){var t=this;this.currentTrack=null,setTimeout((function(){var e=Math.floor(1+Math.random()*t.playlist.length)-1,n=t.playlist[e];if(!n)return t.selectRandomTrackFromPlaylist();t.currentTrack=n}),1e3)}}};sn.render=an;var ln=sn;function un(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",{ref:"crawlmessage",id:"crawl_message",style:Object(a["A"])({"margin-left":"".concat(r.marginLeft,"px")})},Object(a["R"])(o.currentCrawlMessage),5)}var dn=100,hn={name:"Crawler",props:{messages:{type:Array,default:function(){return[]}}},computed:{hasMessages:function(){return this.messages&&this.messages.length},currentCrawlMessage:function(){return this.hasMessages?this.messages[this.crawlIx]:""}},data:function(){return{crawlIx:0,marginLeft:0,parentWidth:0,parentPadding:100,messageWidth:0}},mounted:function(){this.setupCrawler()},methods:{setupCrawler:function(){var t=this;this.$nextTick((function(){var e=document.querySelector("#top_bar");e&&(t.parentWidth=e.clientWidth),t.startCrawler()}))},startCrawler:function(){this.marginLeft=this.parentWidth||0;var t=this.$refs.crawlmessage;t&&(this.messageWidth||(this.messageWidth=t.clientWidth+this.parentPadding),this.scrollMessage())},switchToNextCrawlMessage:function(){var t,e=this;this.crawlIx=++this.crawlIx%(null===(t=this.messages)||void 0===t?void 0:t.length),this.$nextTick((function(){e.startCrawler()}))},scrollMessage:function(){var t=this;this.marginLeft>=-this.messageWidth?setTimeout((function(){t.marginLeft-=10,t.scrollMessage()}),dn):this.switchToNextCrawlMessage()}}};n("8874");hn.render=un;var bn=hn,pn=function(t){return Object(a["J"])("data-v-5a295c0b"),t=t(),Object(a["H"])(),t},vn={id:"outlook"},mn={key:0,id:"no_data"},fn={id:"title"},gn=pn((function(){return Object(a["j"])("br",null,null,-1)}));function On(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",vn,[o.outlookUnavailable?(Object(a["G"])(),Object(a["i"])("div",mn,"Outlook temporarily unavailable")):(Object(a["G"])(),Object(a["i"])(a["b"],{key:1},[Object(a["j"])("div",fn," "+Object(a["R"])(o.titleString),1),Object(a["j"])("ol",null,[(Object(a["G"])(!0),Object(a["i"])(a["b"],null,Object(a["M"])(r.generatedOutlook,(function(e,n){return Object(a["G"])(),Object(a["i"])("li",{key:"outlook.".concat(n)},[Object(a["j"])("span",null,Object(a["R"])(t.padString(e.day,o.longestDayInOutlook,!1,"."))+".."+Object(a["R"])(e.low)+"  "+Object(a["R"])(e.high),1),gn,Object(a["j"])("span",null,"     "+Object(a["R"])(e.condition)+".",1)])})),128)),Object(a["j"])("li",null,[Object(a["j"])("span",null,Object(a["R"])(o.normalLowString)+" "+Object(a["R"])(o.normalHighString),1)])])],64))])}var jn=n("3835"),Sn=(n("d81d"),n("c740"),n("a434"),{name:"outlook-screen",mixins:[lt,st,Dt],props:{forecast:Array,normals:Object},data:function(){return{generatedOutlook:[]}},computed:Object(g["a"])(Object(g["a"])({},Object(O["b"])(["ecObservedAtStation","ecCity"])),{},{titleString:function(){return"Outlook for Southern Manitoba"},outlookUnavailable:function(){return!this.forecast||!this.forecast.length||!this.generatedOutlook||!this.generatedOutlook.length},longestDayInOutlook:function(){return this.outlookUnavailable?0:Math.max.apply(Math,Object(ve["a"])(this.generatedOutlook.map((function(t){return t.day.length||0}))))},normalLowString:function(){var t,e,n=null===(t=this.normals)||void 0===t||null===(e=t.textSummary)||void 0===e?void 0:e.split("."),a=Object(jn["a"])(n,1),i=a[0];return this.truncateForecastText("Normal ".concat(i,"."))},normalHighString:function(){var t,e,n=null===(t=this.normals)||void 0===t||null===(e=t.textSummary)||void 0===e?void 0:e.split("."),a=Object(jn["a"])(n,2),i=a[1];return this.truncateForecastText("Normal".concat(i,"."))}}),mounted:function(){this.get3To5DayOutlook()},methods:{get3To5DayOutlook:function(){var t;if(this.forecast){var e=this.getDaysAheadFromObserved(this.ecObservedAtStation,3),n=Object(j["a"])(e,"EEEE"),a=this.forecast.findIndex((function(t){return t.day===n.toLocaleLowerCase()}));if(-1!==a){for(var i=[],r=1,o=a;r<=3;r++){var c,s,l,u=this.forecast[o++],d=this.forecast[o++],h=u.day,b=this.truncateForecastText((null===u||void 0===u||null===(c=u.temperatures)||void 0===c?void 0:c.textSummary)||""),p=this.truncateForecastText((null===d||void 0===d||null===(s=d.temperatures)||void 0===s?void 0:s.textSummary)||""),v=(null===u||void 0===u||null===(l=u.abbreviatedForecast)||void 0===l?void 0:l.textSummary)||"";i.push({day:h,high:b,low:p,condition:v})}(t=this.generatedOutlook).splice.apply(t,[0,this.generatedOutlook.length].concat(i))}}}}});n("9a93");Sn.render=On,Sn.__scopeId="data-v-5a295c0b";var yn=Sn,wn=function(t){return Object(a["J"])("data-v-1968ea59"),t=t(),Object(a["H"])(),t},Cn={id:"last_month_summary"},Tn=["innerHTML"],Mn=["innerHTML"],Dn=["innerHTML"],In=["innerHTML"],Hn=wn((function(){return Object(a["j"])("br",null,null,-1)})),Ln=["innerHTML"],Nn=["innerHTML"];function An(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",Cn,[Object(a["j"])("div",null,[Object(a["j"])("div",null,Object(a["R"])(o.summaryTitle),1),Object(a["j"])("div",{innerHTML:o.tableHeader},null,8,Tn),Object(a["j"])("div",{innerHTML:o.averageHighData},null,8,Mn),Object(a["j"])("div",{innerHTML:o.averageLowData},null,8,Dn),Object(a["j"])("div",{innerHTML:o.precipData},null,8,In),Hn,Object(a["j"])("div",{innerHTML:o.warmestTempData},null,8,Ln),Object(a["j"])("div",{innerHTML:o.coldestTempData},null,8,Nn)])])}var kn=n("49ef"),Rn={name:"last-month",mixins:[lt],props:{lastMonth:{type:Object,default:function(){return{}}}},computed:Object(g["a"])(Object(g["a"])({},Object(O["b"])(["ecCity"])),{},{summaryTitle:function(){return"Weather Statistics for ".concat(this.lastMonth.month||"")},tableHeader:function(){return"&nbsp;".concat(this.padString(this.ecCity,11,!1),"&nbsp;This Year&nbsp;&nbsp;Normal")},averageHighData:function(){var t,e,n,a;return"".concat(this.padString("Average High",15,!1)).concat(this.padString((null===(t=this.lastMonth)||void 0===t||null===(e=t.actual)||void 0===e?void 0:e.averageHigh)||"N/A",5,!0),"&nbsp;&nbsp;&nbsp;&nbsp;").concat(this.padString((null===(n=this.lastMonth)||void 0===n||null===(a=n.normal)||void 0===a?void 0:a.normalHigh)||"N/A",5,!0))},averageLowData:function(){var t,e,n,a;return"".concat(this.padString("Average Low",15,!1)).concat(this.padString((null===(t=this.lastMonth)||void 0===t||null===(e=t.actual)||void 0===e?void 0:e.averageLow)||"N/A",5,!0),"&nbsp;&nbsp;&nbsp;&nbsp;").concat(this.padString((null===(n=this.lastMonth)||void 0===n||null===(a=n.normal)||void 0===a?void 0:a.normalLow)||"N/A",5,!0))},precipData:function(){var t,e,n,a;return"".concat(this.padString("Precip (MM)",15,!1)).concat(this.padString((null===(t=this.lastMonth)||void 0===t||null===(e=t.actual)||void 0===e?void 0:e.totalPrecip)||"N/A",5,!0),"&nbsp;&nbsp;&nbsp;&nbsp;").concat(this.padString((null===(n=this.lastMonth)||void 0===n||null===(a=n.normal)||void 0===a?void 0:a.normalPrecip)||"N/A",5,!0))},warmestDayTemp:function(){var t,e,n,a=null===(t=this.lastMonth)||void 0===t||null===(e=t.actual)||void 0===e||null===(n=e.warmestDay)||void 0===n?void 0:n.temp;return void 0===a?null:"".concat(a>0?"+":"&nbsp;").concat(a.toFixed(1))},warmestTempData:function(){var t,e,n;return"".concat(this.padString("Warmest Temp.",14,!1)).concat(this.padString(this.warmestDayTemp||"N/A",5,!0),"&nbsp;ON THE ").concat(this.getDateNumberSuffix(null===(t=this.lastMonth)||void 0===t||null===(e=t.actual)||void 0===e||null===(n=e.warmestDay)||void 0===n?void 0:n.day),".")},coldestDayTemp:function(){var t,e,n,a=null===(t=this.lastMonth)||void 0===t||null===(e=t.actual)||void 0===e||null===(n=e.coldestDay)||void 0===n?void 0:n.temp;return void 0===a?null:"".concat(a>0?"+":"&nbsp;").concat(a.toFixed(1))},coldestTempData:function(){var t,e,n;return"".concat(this.padString("Coldest Temp.",14,!1)).concat(this.padString(this.coldestDayTemp||"N/A",5,!0),"&nbsp;ON THE ").concat(this.getDateNumberSuffix(null===(t=this.lastMonth)||void 0===t||null===(e=t.actual)||void 0===e||null===(n=e.coldestDay)||void 0===n?void 0:n.day))}}),methods:{getDateNumberSuffix:function(t){t=parseInt(t);var e=new Date;return e.setDate(t),Object(kn["a"])(e)?this.padString(Object(j["a"])(e,"do"),4,!0):t}}};n("fade");Rn.render=An,Rn.__scopeId="data-v-1968ea59";var _n=Rn,Wn=function(t){return Object(a["J"])("data-v-7c2762f0"),t=t(),Object(a["H"])(),t},Pn={id:"aqhi_warning"},Gn={key:0},Un=Wn((function(){return Object(a["j"])("div",null,"WPG AIR QUALITY HEALTH INDEX AT",-1)})),En=["innerHTML"],Fn=["innerHTML"];function xn(t,e,n,i,r,o){return Object(a["G"])(),Object(a["i"])("div",Pn,[o.doesAQHINeedWarning?(Object(a["G"])(),Object(a["i"])("div",Gn,[Un,Object(a["j"])("div",{innerHTML:o.observedTimeAndIndex},null,8,En),Object(a["j"])("div",{innerHTML:o.aqhiWarningMessage},null,8,Fn)])):Object(a["h"])("",!0)])}var Yn={name:"aqhi-warning",mixins:[lt],props:{aqhi:Object},computed:{doesAQHINeedWarning:function(){var t;return null===(t=this.aqhi)||void 0===t?void 0:t.needsWarning},observedTime:function(){var t;return this.padString(null===(t=this.aqhi)||void 0===t?void 0:t.hour,5,!0,"&nbsp;")},observedMonthDate:function(){var t,e;return"".concat(null===(t=this.aqhi)||void 0===t?void 0:t.month.slice(0,3)," ").concat(null===(e=this.aqhi)||void 0===e?void 0:e.day.replace(/\s/,"&nbsp;"))},observedAQHI:function(){var t;return this.padString(((null===(t=this.aqhi)||void 0===t?void 0:t.aqhi)||"").toString(),2,!0,"&nbsp;")},observedTimeAndIndex:function(){var t;return"".concat(this.observedTime," ").concat(this.observedMonthDate," IS ").concat(this.observedAQHI,"-").concat(this.getAQHIRisk(null===(t=this.aqhi)||void 0===t?void 0:t.aqhi)," Risk")},aqhiWarningMessage:function(){var t;return this.getAQHIWarningMessage(null===(t=this.aqhi)||void 0===t?void 0:t.aqhi)}},mounted:function(){this.doesAQHINeedWarning||w.emit("aqhi-not-needed")},methods:{getAQHIRisk:function(t){return t>10?"V High":t>=7?"High":t>=4?"Moderate":""},getAQHIWarningMessage:function(t){return t>10?"REDUCE/RESCHEDULE STRENUOUS<br/>ACTIVITIES OUTDOORS IF YOU<br/>EXPERIENCE SYMPTOMS SUCH AS<br/>COUGHING & THROAT IRRITATION.<br/>AVOID IF YOU HAVE HEART/LUNG<br/>CONDITIONS &amp; ELDERLY/CHILDREN":t>=7?"CONSIDER REDUCING/RESCHEDULING<br/>STRENUOUS ACTIVITIES OUTDOORS IF<br/>YOU EXPERIENCE SYMPTOMS SUCH AS<br/>COUGHING & THROAT IRRITATION.<br/>THOSE WITH HEART/LUNG CONDITIONS<br/>&amp; ELDERLY/CHILDREN=GREATER RISK.":t>=4?"CONSIDER MODIFYING YOUR USUAL<br/>OUTDOOR ACTIVITIES IF YOU<br/>EXPERIENCE SYMPTOMS SUCH AS<br/>COUGHING AND THROAT IRRITATION.<br/>THOSE WITH HEART OR LUNG<br/>CONDITIONS ARE AT GREATER RISK.":""}}};n("a2d1");Yn.render=xn,Yn.__scopeId="data-v-7c2762f0";var qn=Yn,$n=3e5,Bn=6e4,Qn=6e5,Vn={CURRENT_CONDITIONS:{id:1,length:30},FORECAST:{id:2,length:160},SURROUNDING:{id:3,length:80},ALMANAC:{id:4,length:20},WARNINGS:{id:5,length:650},WINDCHILL:{id:6,length:20},MB_HIGH_LOW:{id:7,length:20},CITY_STATS:{id:8,length:20},US_SURROUNDING:{id:9,length:30},OUTLOOK:{id:10,length:20},RANDOM:{id:11,length:20},SUMMARY:{id:12,length:20},AQHI_WARNING:{id:13,length:20}},zn=[Vn.FORECAST,Vn.OUTLOOK,Vn.WINDCHILL,Vn.WARNINGS,Vn.ALMANAC,Vn.AQHI_WARNING,Vn.MB_HIGH_LOW,Vn.SURROUNDING,Vn.US_SURROUNDING,Vn.CITY_STATS,Vn.RANDOM],Kn="rgb(0,0,135)",Jn="#610b00",Zn={name:"App",components:{currentconditions:bt,forecast:Nt,surrounding:qt,almanac:se,warnings:Oe,windchill:Te,mbhighlow:Pe,citystats:en,playlist:ln,crawler:bn,Outlook:yn,lastmonth:_n,aqhiwarning:qn},data:function(){return{screenChanger:null,now:new Date,rotationIndex:0,currentScreen:Vn.FORECAST,province:{highLowAroundMB:{}},surrounding:{canada:null,usa:null},season:{precip:null,isWinter:!1},climate:{lastMonth:!1},playlist:[],crawlerMessages:[],showMBHighLowSetting:!1,backgroundCol:Kn,backgroundColDebouncer:null,shouldDoReloadAnimation:!1}},watch:{rotationIndex:function(){this.switchBackgroundColour()},ecUUID:function(t,e){e&&this.forceReloadForNewData()}},computed:Object(g["a"])({currentTime:function(){return Object(j["a"])(this.timezoneAdjustedDate(this.now),"HH:mm:ss")},currentDate:function(){var t=Object(j["a"])(this.timezoneAdjustedDate(this.now),"EEE'&nbsp;' MMM'&nbsp;' dd");return t.replace(/tue&nbsp;/gi,"tues").replace(/thu&nbsp;/gi,"thur").replace(/jun&nbsp;/gi,"june").replace(/jul&nbsp;/gi,"july").replace(/sep&nbsp;/gi,"sept").replace(/\s0/,"&nbsp;&nbsp;")},currentScreenID:function(){return this.currentScreen.id},currentScreenTimeout:function(){return this.currentScreen.length},isCurrentConditions:function(){return this.currentScreenID===Vn.CURRENT_CONDITIONS.id},isForecast:function(){return this.currentScreenID===Vn.FORECAST.id},isOutlook:function(){return this.currentScreenID===Vn.OUTLOOK.id},isSurrounding:function(){return this.currentScreenID===Vn.SURROUNDING.id},isUSSurrounding:function(){return this.currentScreenID===Vn.US_SURROUNDING.id},isAlmanac:function(){return this.currentScreenID===Vn.ALMANAC.id},isWarnings:function(){return this.currentScreenID===Vn.WARNINGS.id},isWindChillEffects:function(){return this.currentScreenID===Vn.WINDCHILL.id},isMBHighLow:function(){return this.currentScreenID===Vn.MB_HIGH_LOW.id},isCityStats:function(){return this.currentScreenID===Vn.CITY_STATS.id},isLastMonthSummary:function(){return this.currentScreenID===Vn.SUMMARY.id},isAQHIWarning:function(){return this.currentScreenID===Vn.AQHI_WARNING.id},timeZone:function(){var t,e;return(null===(t=this.ecData)||void 0===t||null===(e=t.observed)||void 0===e?void 0:e.stationTimezone)||null},isWeatherChannel:function(){return"/"===this.$route.path}},Object(O["b"])(["ecData","ecForecast","ecRegionalNormals","ecShortForecast","ecWindchill","ecAirQuality","ecAlmanac","ecWarnings","ecUUID"])),mounted:function(){var t=this;this.isWeatherChannel&&(setInterval((function(){t.now=new Date}),1e3),this.initWeatherChannel((function(){setInterval((function(){t.getSurroundingWeather(),t.getSurroundingUSWeather(),t.getWeather(),t.getWarnings(),t.showMBHighLowSetting&&t.getHighLowAroundMB()}),Bn),setInterval((function(){t.getSeasonPrecipData(),t.getLastMonthSummary()}),Qn),setInterval((function(){t.initWeatherChannel()}),$n),t.setupEventCallbacks(),t.getWeather(),t.getSurroundingWeather(),t.getSurroundingUSWeather(),t.getSeasonPrecipData(),t.getLastMonthSummary(),t.getWarnings(),t.showMBHighLowSetting&&t.getHighLowAroundMB(),t.handleScreenCycle()})))},unmounted:function(){this.destroyEventCallbacks()},methods:{initWeatherChannel:function(t){var e=this;this.$http.get("api/init").then((function(n){var a=n.data;a&&(a.playlist&&a.playlist.file_count&&(e.playlist=a.playlist.files),a.crawler&&a.crawler.message_count&&(e.crawlerMessages=a.crawler.messages),a.showMBHighLow&&(e.showMBHighLowSetting=a.showMBHighLow),"function"===typeof t&&t())})).catch((function(){console.warn("Unable to initalize channel from server")}))},setupEventCallbacks:function(){var t=this;w.on("forecast-complete",(function(){t.handleScreenCycle(!0)})),w.on("observation-complete",(function(){t.handleScreenCycle(!0)})),w.on("warnings-complete",(function(){t.handleScreenCycle(!0)})),w.on("windchill-complete",(function(){t.handleScreenCycle(!0)})),w.on("mbhighlow-complete",(function(){t.handleScreenCycle(!0)})),w.on("aqhi-not-needed",(function(){t.handleScreenCycle(!0)}))},destroyEventCallbacks:function(){w.off("forecast-complete"),w.off("observation-complete"),w.off("warnings-complete"),w.off("windchill-complete"),w.off("mbhighlow-complete"),w.off("aqhi-not-needed")},getWeather:function(){var t=this;this.$http.get("api/weather").then((function(e){var n=e.data;n&&t.$store.commit("storeECData",n)})).catch((function(e){console.error(e),t.weather={}}))},getSurroundingWeather:function(){var t=this;this.$http.get("api/weather/surrounding").then((function(e){var n=e.data;n&&n.observations&&n.observations.length&&(t.surrounding.canada=n.observations)})).catch((function(e){console.error(e),t.surrounding.canada=null}))},getSurroundingUSWeather:function(){var t=this;this.$http.get("api/weather/usa").then((function(e){var n=e.data;n&&n.observations&&n.observations.length&&(t.surrounding.usa=n.observations)})).catch((function(e){console.error(e),t.surrounding.usa=null}))},getHighLowAroundMB:function(){var t=this;this.showMBHighLowSetting&&this.$http.get("api/weather/mb_highlow").then((function(e){var n=e.data;n&&n.stations&&n.stations.length&&(t.province.highLowAroundMB=n)})).catch((function(t){console.error(t)}))},getSeasonPrecipData:function(){var t=this;this.$http.get("/api/climate/season/precip").then((function(e){var n=e.data;n&&n.normalPrecip&&(t.season.precip=n,t.season.isWinter=n.isWinter)})).catch((function(t){console.error(t)}))},getLastMonthSummary:function(){var t=this;this.$http.get("/api/climate/lastmonth").then((function(e){var n=e.data;if(!n||!n.summary)return t.climate.lastMonth=!1;t.climate.lastMonth=n.summary})).catch((function(t){console.error(t)}))},getWarnings:function(){var t=this;this.$http.get("/api/warnings").then((function(e){var n=e.data;n&&n.warnings&&t.$store.commit("storeECWarnings",n.warnings)}))},handleScreenCycle:function(t){var e=this;t&&this.switchToNextScreen(),this.screenChanger&&clearTimeout(this.screenChanger),this.screenChanger=setTimeout((function(){e.switchToNextScreen()}),1e3*this.currentScreenTimeout)},switchToNextScreen:function(){if(this.shouldDoReloadAnimation=!1,this.rotationIndex+=1,this.rotationIndex===zn.length&&(this.rotationIndex=0),this.currentScreen=zn[this.rotationIndex],this.currentScreenID===Vn.RANDOM.id){var t=[];if(this.climate.lastMonth&&t.push(Vn.SUMMARY),!t)return this.switchToNextScreen();var e=t[Math.floor(Math.random()*t.length)];if(!e)return this.switchToNextScreen();this.currentScreen=e}this.handleScreenCycle()},switchBackgroundColour:function(){var t=this;this.backgroundColDebouncer||(this.backgroundColDebouncer=setTimeout((function(){t.backgroundCol!==Kn?t.backgroundCol=Kn:t.backgroundCol=Jn,t.backgroundColDebouncer=null}),50))},forceReloadForNewData:function(){this.rotationIndex=0,this.currentScreen=zn[this.rotationIndex],this.shouldDoReloadAnimation=!0,this.handleScreenCycle()},timezoneAdjustedDate:function(t){if(!this.timeZone)return t;var e=-t.getTimezoneOffset(),n=-300,a=n-e;return Object(S["a"])(t,a)}}};n("18fa"),n("9c81");Zn.render=f,Zn.__scopeId="data-v-5dd53c6c";var Xn=Zn,ta={ecData:{city:null,observed:null,conditions:null,windchill:0,conditionID:null,forecast:[],regionalNormals:{},airQuality:null,almanac:{},riseSet:{},canadaHotColdSpots:{}}},ea={storeECData:function(t,e){t.ecData=e},setObservedStationTime:function(t,e){t.ecData&&t.ecData.observed&&(t.ecData.observed.stationTime=e)},setCurrentConditions:function(t,e){t.ecData&&t.ecData.conditions&&(t.ecData.conditions.condition=e)},setCurrentTemperature:function(t,e){t.ecData&&t.ecData.conditions&&t.ecData.conditions.temperature&&(t.ecData.conditions.temperature.value=e)},setCurrentWind:function(t,e){var n=e||{},a=n.speed,i=n.gust,r=n.direction;t.ecData&&t.ecData.conditions&&t.ecData.conditions.wind&&(t.ecData.conditions.wind.speed.value=a,t.ecData.conditions.wind.gust.value=i,r&&(t.ecData.conditions.wind.direction=r))},setCurrentHumidity:function(t,e){t.ecData&&t.ecData.conditions&&t.ecData.conditions.relativeHumidity&&(t.ecData.conditions.relativeHumidity.value=e)},setCurrentPressure:function(t,e){var n=e||{},a=n.value,i=n.tendency;t.ecData&&t.ecData.conditions&&t.ecData.conditions.pressure&&(t.ecData.conditions.pressure.value=a,i&&(t.ecData.conditions.pressure.tendency=i))},setCurrentVisibility:function(t,e){t.ecData&&t.ecData.conditions&&t.ecData.conditions.visibility&&(t.ecData.conditions.visibility.value=e)},setWindchill:function(t,e){t.ecData&&(t.ecData.windchill=e)},setAirQuality:function(t,e){t.ecData&&(t.ecData.airQuality=e)}},na={ecData:function(t){return t.ecData},ecCity:function(t){return t.ecData&&t.ecData.city},ecObserved:function(t){return t.ecData&&t.ecData.observed},ecObservedAtStation:function(t){var e=t.ecData||{},n=e.observed;return n&&{time:n.stationTime,timezone:n.stationTimezone}},ecConditions:function(t){return t.ecData&&t.ecData.conditions},ecWindchill:function(t){return t.ecData&&t.ecData.windchill},ecForecast:function(t){return t.ecData&&t.ecData.forecast},ecShortForecast:function(t){var e=t.ecData||[],n=e.forecast;return n&&n.slice(0,5)},ecRegionalNormals:function(t){return t.ecData&&t.ecData.regionalNormals||{}},ecAirQuality:function(t){return t.ecData&&t.ecData.airQuality},ecAlmanac:function(t){return t.ecData&&t.ecData.almanac},ecSunriseSet:function(t){return t.ecData&&t.ecData.riseSet},ecHotColdSpotsCanada:function(t){return t.ecData&&t.ecData.canadaHotColdSpots||{}},ecUUID:function(t){return t.ecData&&t.ecData.conditionID}},aa={ecWarnings:[]},ia={storeECWarnings:function(t,e){t.ecWarnings=e}},ra={ecWarnings:function(t){return t.ecWarnings}},oa=Object(O["a"])({state:function(){return Object(g["a"])(Object(g["a"])({},ta),aa)},mutations:Object(g["a"])(Object(g["a"])({},ea),ia),getters:Object(g["a"])(Object(g["a"])({},na),ra)}),ca=oa,sa={id:"config_page"},la={key:0},ua={key:1};function da(t,e,n,i,r,o){var c=Object(a["O"])("weatherstationconfig"),s=Object(a["O"])("b-tab"),l=Object(a["O"])("historicaldataconfig"),u=Object(a["O"])("climatenormalsconfig"),d=Object(a["O"])("crawlermessages"),h=Object(a["O"])("playlistconfig"),b=Object(a["O"])("miscconfig"),p=Object(a["O"])("b-tabs");return Object(a["G"])(),Object(a["i"])("div",sa,[o.isFetchingConfig?(Object(a["G"])(),Object(a["i"])("div",la," Fetching config... please wait. ")):Object(a["h"])("",!0),o.hasLoadedConfig?(Object(a["G"])(),Object(a["i"])("div",ua,[Object(a["n"])(p,{"content-class":"mt-3"},{default:Object(a["bb"])((function(){return[Object(a["n"])(s,{title:"Weather Station",active:""},{default:Object(a["bb"])((function(){return[Object(a["n"])(c,{"weather-station":r.config.config.primaryLocation,"save-state":r.saveState,onSave:o.saveWeatherStation},null,8,["weather-station","save-state","onSave"])]})),_:1}),Object(a["n"])(s,{title:"Historical Data"},{default:Object(a["bb"])((function(){return[Object(a["n"])(l,{"weather-station":r.config.config.primaryLocation,"historical-data-station":r.config.config.historicalDataStationID,"save-state":r.saveState,onSave:o.saveHistoricalDataStation},null,8,["weather-station","historical-data-station","save-state","onSave"])]})),_:1}),Object(a["n"])(s,{title:"Climate Normals"},{default:Object(a["bb"])((function(){return[Object(a["n"])(u,{"weather-station":r.config.config.primaryLocation,"climate-normals-climateID":r.config.config.climateNormalsClimateID,"climate-normals-stationID":r.config.config.climateNormalsStationID,"climate-normals-province":r.config.config.climateNormalsProvince,"save-state":r.saveState,onSave:o.saveClimateNormalsStation},null,8,["weather-station","climate-normals-climateID","climate-normals-stationID","climate-normals-province","save-state","onSave"])]})),_:1}),Object(a["n"])(s,{title:"Crawler Messages"},{default:Object(a["bb"])((function(){return[Object(a["n"])(d,{"crawler-messages":r.config.crawler,"save-state":r.saveState,onSave:o.saveCrawlerMessages},null,8,["crawler-messages","save-state","onSave"])]})),_:1}),Object(a["n"])(s,{title:"Playlist"},{default:Object(a["bb"])((function(){return[Object(a["n"])(h,{playlist:r.config.playlist,"save-state":r.saveState,onSave:o.reloadPlaylist},null,8,["playlist","save-state","onSave"])]})),_:1}),Object(a["n"])(s,{title:"Misc."},{default:Object(a["bb"])((function(){return[Object(a["n"])(b,{"province-high-low-tracking":r.config.config.provinceHighLowEnabled,"save-state":r.saveState,onSave:o.saveMiscConfig},null,8,["province-high-low-tracking","save-state","onSave"])]})),_:1})]})),_:1})])):Object(a["h"])("",!0)])}var ha=Object(a["j"])("h4",null,"Crawler Messages",-1),ba=Object(a["j"])("p",null," These are the crawler messages that run across the top of the screen. Recommended character length is around 128. Add one message per line ",-1),pa=["rows"];function va(t,e,n,i,r,o){var c=Object(a["O"])("b-button");return Object(a["G"])(),Object(a["i"])("div",null,[ha,ba,Object(a["cb"])(Object(a["j"])("textarea",{class:"form-control mb-3","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.mutableCrawlerMessages=t}),rows:o.rows},null,8,pa),[[a["Z"],r.mutableCrawlerMessages]]),Object(a["n"])(c,{variant:"success",onClick:o.saveCrawlerMessages,disabled:n.saveState.saving},{default:Object(a["bb"])((function(){return[Object(a["m"])("Save")]})),_:1},8,["onClick","disabled"])])}n("a15b");var ma={name:"config-crawler-messages",props:{crawlerMessages:{type:Array,default:function(){return[]}},saveState:{type:Object,default:function(){return{}}}},data:function(){return{mutableCrawlerMessages:""}},computed:{rows:function(){return this.crawlerMessages&&this.crawlerMessages.length+3}},mounted:function(){this.createMutableCrawlerMessages()},methods:{createMutableCrawlerMessages:function(){this.mutableCrawlerMessages=this.crawlerMessages.join("\n")},saveCrawlerMessages:function(){this.$emit("save",{value:this.mutableCrawlerMessages.split("\n")})}}};ma.render=va;var fa=ma,ga=function(t){return Object(a["J"])("data-v-90d940c2"),t=t(),Object(a["H"])(),t},Oa=ga((function(){return Object(a["j"])("h4",null,"Playlist",-1)})),ja=ga((function(){return Object(a["j"])("p",null,[Object(a["m"])(" These are the files that are currently in the channel's playlist. The channel will pickup any "),Object(a["j"])("b",null,".mp3"),Object(a["m"])(" files from the "),Object(a["j"])("b",null,"./music"),Object(a["m"])(' folder. To update the playlist after adding removing files, use the "Reload Playlist" button. ')],-1)})),Sa={key:0,id:"playlist"},ya={key:1},wa=ga((function(){return Object(a["j"])("b",null,"There are currently no files in the playlist",-1)})),Ca=[wa];function Ta(t,e,n,i,r,o){var c=Object(a["O"])("b-button");return Object(a["G"])(),Object(a["i"])("div",null,[Oa,ja,n.playlist&&n.playlist.length?(Object(a["G"])(),Object(a["i"])("ul",Sa,[(Object(a["G"])(!0),Object(a["i"])(a["b"],null,Object(a["M"])(n.playlist,(function(t,e){return Object(a["G"])(),Object(a["i"])("li",{key:"playlist-item-".concat(e)},Object(a["R"])(o.cleanFileName(t)),1)})),128))])):(Object(a["G"])(),Object(a["i"])("div",ya,Ca)),Object(a["n"])(c,{class:"mt-3",variant:"success",onClick:o.reloadPlaylist,disabled:n.saveState.saving},{default:Object(a["bb"])((function(){return[Object(a["m"])("Reload Playlist")]})),_:1},8,["onClick","disabled"])])}var Ma={name:"playlist-config",props:{playlist:{type:Array,default:function(){return[]}},saveState:{type:Object,default:function(){return{}}}},methods:{reloadPlaylist:function(){this.$emit("save")},cleanFileName:function(t){return t.replace("./music/","")}}};n("45cb");Ma.render=Ta,Ma.__scopeId="data-v-90d940c2";var Da=Ma,Ia=Object(a["j"])("h4",null,"Weather Station",-1),Ha=Object(a["j"])("p",null,"This is where you will setup the weather station that the currently observed conditions are pulled from.",-1),La=Object(a["j"])("p",null,[Object(a["j"])("b",null,"Important:"),Object(a["m"])(" Not all weather stations are manned 24/7, if you pick one of these stations the current conditions (Sunny, Mostly Cloudy, etc.) won't always be present. ")],-1),Na=Object(a["j"])("p",null,[Object(a["j"])("b",null,"Important:"),Object(a["m"])(" Not all weather stations receive Air Quality warnings, this is a best guessed based off the tracked city. ")],-1),Aa=Object(a["j"])("p",null,[Object(a["j"])("b",null,"Important:"),Object(a["m"])(" The CAP alert system also only picks out alerts based off the name of the tracked city.")],-1),ka=Object(a["j"])("b",null,"Current Weather Station",-1),Ra=Object(a["j"])("h4",null,"Available Stations",-1),_a={class:"table table-hover table-striped"},Wa=Object(a["j"])("thead",null,[Object(a["j"])("tr",null,[Object(a["j"])("th",null,"Station Name"),Object(a["j"])("th",null,"Province"),Object(a["j"])("th",null,"Station UUID"),Object(a["j"])("th")])],-1);function Pa(t,e,n,i,r,o){var c=Object(a["O"])("b-button");return Object(a["G"])(),Object(a["i"])("div",null,[Ia,Ha,La,Na,Aa,Object(a["j"])("p",null,[ka,Object(a["m"])(": "+Object(a["R"])(o.name)+", "+Object(a["R"])(o.province)+" ("+Object(a["R"])(o.uuid)+")",1)]),Ra,Object(a["cb"])(Object(a["j"])("input",{type:"search",class:"form-control mt-3 mb-3","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.searchTerm=t}),placeholder:"Search for a station name..."},null,512),[[a["Z"],r.searchTerm]]),Object(a["j"])("table",_a,[Wa,Object(a["j"])("tbody",null,[(Object(a["G"])(!0),Object(a["i"])(a["b"],null,Object(a["M"])(o.filteredStations,(function(t){return Object(a["G"])(),Object(a["i"])("tr",{key:"available-station-".concat(t.code),class:Object(a["y"])({"table-primary":t.code===o.uuid})},[Object(a["j"])("td",null,Object(a["R"])(t.name),1),Object(a["j"])("td",null,Object(a["R"])(t.province),1),Object(a["j"])("td",null,Object(a["R"])(t.code),1),Object(a["j"])("td",null,[Object(a["n"])(c,{disabled:o.uuid===t.code||n.saveState.saving,variant:"success",onClick:function(e){return o.saveWeatherStation(t)}},{default:Object(a["bb"])((function(){return[Object(a["m"])(" Select Station ")]})),_:2},1032,["disabled","onClick"])])],2)})),128))])])])}n("4de4");var Ga=3,Ua={name:"weather-station-config",props:{weatherStation:{type:Object,default:function(){return{}}},saveState:{type:Object,default:function(){return{}}}},data:function(){return{availableStations:[],searchTerm:""}},computed:{name:function(){return this.weatherStation.name},province:function(){return this.weatherStation.province},uuid:function(){return this.weatherStation.location},filteredStations:function(){var t=this;return this.searchTerm&&this.searchTerm.length>=Ga?this.availableStations.filter((function(e){return e.name.toLowerCase().includes(t.searchTerm.toLowerCase())})):this.availableStations}},mounted:function(){this.fetchWeatherStationsFromECCC()},methods:{fetchWeatherStationsFromECCC:function(){var t=this;this.$http.get("/config/eccc-weather-stations").then((function(e){var n,a=e.data;a&&(n=t.availableStations).splice.apply(n,[0,t.availableStations.length].concat(Object(ve["a"])(a)))}))},saveWeatherStation:function(t){this.$emit("save",{station:t})}}};Ua.render=Pa;var Ea=Ua,Fa=Object(a["l"])('<h4>Historical Data</h4><p> This is where you will setup the weather station that historical data is pulled from. This is the <b>Precipitation</b> (City Stats Page) and <b>Last Year Temps</b> (Almanac Page) </p><p><b>Important:</b> Not all weather stations track data correctly so this allows you to select another station (ideally close by) that can provide that information instead. For example, <i>&quot;Winnipeg Richardson Intl A&quot;</i> doesn&#39;t track both last year and precip data so we use a station in a different location referred to as <i>&quot;Winnipeg A CS&quot;</i></p><p><b>Important:</b> When deciding if you should select a station or not you check that the Max Temp, Min Temp, and Total Precip columns aren&#39;t blank. </p><h4>Available Stations</h4><p> Please refer to this <a href="https://drive.google.com/file/d/1HDRnj41YBWpMioLPwAFiLlK4SK8NV72C/view?usp=sharing" target="_blank">CSV File</a> for a list of available stations. The <b>Station ID</b> column is the number that needs entering below. </p>',6),xa=Object(a["j"])("b",null,"Current Historical Data Station ID",-1);function Ya(t,e,n,i,r,o){var c=Object(a["O"])("b-button");return Object(a["G"])(),Object(a["i"])("div",null,[Fa,Object(a["j"])("div",null,[xa,Object(a["m"])(": "),Object(a["cb"])(Object(a["j"])("input",{type:"number",class:"form-control mt-2 mb-3","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.mutableHistoricalDataStation=t})},null,512),[[a["Z"],r.mutableHistoricalDataStation]])]),Object(a["n"])(c,{disabled:!r.mutableHistoricalDataStation,variant:"success",onClick:e[1]||(e[1]=function(t){return o.saveHistoricalDataStation()})},{default:Object(a["bb"])((function(){return[Object(a["m"])(" Save ")]})),_:1},8,["disabled"])])}var qa={name:"historical-data-config",props:{weatherStation:{type:Object,default:function(){return{}}},historicalDataStation:Number,saveState:{type:Object,default:function(){return{}}}},data:function(){return{mutableHistoricalDataStation:0}},mounted:function(){this.generateMutableHistoricalDataStation()},methods:{generateMutableHistoricalDataStation:function(){this.mutableHistoricalDataStation=this.historicalDataStation},saveHistoricalDataStation:function(){this.$emit("save",{stationID:this.mutableHistoricalDataStation})}}};qa.render=Ya;var $a=qa,Ba=Object(a["l"])('<h4>Climate Normals</h4><p> This is where you will setup the weather station that climate normals data is pulled from. This is the <b>Normal Precipitation</b> (City Stats Page) and <b>Normal Column</b> on the &quot;Weather Statistics for MONTH&quot; screen. </p><p> You can generally set this to the same station where you are getting the current conditions from without too much issue. </p><p><b>Important:</b> Not all weather stations track data correctly so this allows you to select another station (ideally close by) that can provide that information instead. For example, <i>&quot;Winnipeg Richardson Intl A&quot;</i> doesn&#39;t track both last year and precip data so we use a station in a different location referred to as <i>&quot;Winnipeg A CS&quot;</i></p><p><b>Important:</b> When deciding if you should select a station or not you check that the Start/End date columns are within the last year. </p><h4>Available Stations</h4><p> Please refer to this <a href="https://climate.weather.gc.ca/climate_normals/station_select_1981_2010_e.html?searchType=stnProv" target="_blank">page</a> to see if a station has climate normals. </p><p> Please refer to this <a href="https://drive.google.com/file/d/1HDRnj41YBWpMioLPwAFiLlK4SK8NV72C/view?usp=sharing" target="_blank">CSV File</a> for a list of available stations. The <b>Climate ID</b>, <b>Station ID</b>, <b>Province</b> columns are the numbers that need entering below. </p><p><b>You cannot mix and match these IDs, the data must come from the same row or the data will not be collected.</b></p>',9),Qa=Object(a["j"])("b",null,"Climate Normals Climate ID",-1),Va=Object(a["j"])("b",null,"Climate Normals Station ID",-1),za=Object(a["j"])("b",null,"Climate Normals Province (Manitoba = MB, Ontario = ON, etc.)",-1);function Ka(t,e,n,i,r,o){var c=Object(a["O"])("b-button");return Object(a["G"])(),Object(a["i"])("div",null,[Ba,Object(a["j"])("div",null,[Qa,Object(a["m"])(": "),Object(a["cb"])(Object(a["j"])("input",{type:"text",class:"form-control mt-2 mb-3","onUpdate:modelValue":e[0]||(e[0]=function(t){return r.mutableClimateNormalsClimateID=t})},null,512),[[a["Z"],r.mutableClimateNormalsClimateID]])]),Object(a["j"])("div",null,[Va,Object(a["m"])(": "),Object(a["cb"])(Object(a["j"])("input",{type:"number",class:"form-control mt-2 mb-3","onUpdate:modelValue":e[1]||(e[1]=function(t){return r.mutableClimateNormalsStationID=t})},null,512),[[a["Z"],r.mutableClimateNormalsStationID]])]),Object(a["j"])("div",null,[za,Object(a["m"])(": "),Object(a["cb"])(Object(a["j"])("input",{type:"text",class:"form-control mt-2 mb-3","onUpdate:modelValue":e[2]||(e[2]=function(t){return r.mutableClimateNormalsProvince=t})},null,512),[[a["Z"],r.mutableClimateNormalsProvince]])]),Object(a["n"])(c,{disabled:!r.mutableClimateNormalsClimateID||!r.mutableClimateNormalsStationID||!r.mutableClimateNormalsProvince,variant:"success",onClick:e[3]||(e[3]=function(t){return o.saveClimateNormalsStation()})},{default:Object(a["bb"])((function(){return[Object(a["m"])(" Save ")]})),_:1},8,["disabled"])])}var Ja={name:"climate-normals-config",props:{weatherStation:{type:Object,default:function(){return{}}},climateNormalsClimateID:{type:[Number,String],default:0},climateNormalsStationID:Number,climateNormalsProvince:String,saveState:{type:Object,default:function(){return{}}}},data:function(){return{mutableClimateNormalsClimateID:0,mutableClimateNormalsStationID:0,mutableClimateNormalsProvince:""}},mounted:function(){this.generateMutableClimateNormalsIDs()},methods:{generateMutableClimateNormalsIDs:function(){this.mutableClimateNormalsClimateID=this.climateNormalsClimateID||0,this.mutableClimateNormalsStationID=this.climateNormalsStationID||0,this.mutableClimateNormalsProvince=this.climateNormalsProvince||""},saveClimateNormalsStation:function(){isNaN(this.mutableClimateNormalsClimateID)||(this.mutableClimateNormalsClimateID=parseInt(this.mutableClimateNormalsClimateID));var t=(this.mutableClimateNormalsProvince||"").toUpperCase();this.$emit("save",{climateID:this.mutableClimateNormalsClimateID,stationID:this.mutableClimateNormalsStationID,province:t})}}};Ja.render=Ka;var Za=Ja,Xa=Object(a["j"])("h4",null,"Misc. Config",-1);function ti(t,e,n,i,r,o){var c=Object(a["O"])("b-form-checkbox"),s=Object(a["O"])("b-button");return Object(a["G"])(),Object(a["i"])("div",null,[Xa,Object(a["n"])(c,{id:"province-tracking",modelValue:r.mutableProvinceHighLowTracking,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.mutableProvinceHighLowTracking=t})},{default:Object(a["bb"])((function(){return[Object(a["m"])(" Track High/Low temps and precipitation data each day for the Manitoba province? ")]})),_:1},8,["modelValue"]),Object(a["n"])(s,{variant:"success",class:"mt-3",onClick:o.saveMiscConfig,disabled:n.saveState.saving},{default:Object(a["bb"])((function(){return[Object(a["m"])("Save")]})),_:1},8,["onClick","disabled"])])}var ei={name:"config-province-tracking",props:{provinceHighLowTracking:Boolean,saveState:{type:Object,default:function(){return{}}}},data:function(){return{mutableProvinceHighLowTracking:!1}},mounted:function(){this.createMutableMisc()},methods:{createMutableMisc:function(){this.mutableProvinceHighLowTracking=this.provinceHighLowTracking},saveMiscConfig:function(){this.$emit("save",{provinceHighLowTracking:this.mutableProvinceHighLowTracking})}}};ei.render=ti;var ni=ei,ai={name:"config",components:{crawlermessages:fa,playlistconfig:Da,weatherstationconfig:Ea,historicaldataconfig:$a,climatenormalsconfig:Za,miscconfig:ni},data:function(){return{state:{fetching:!1},saveState:{saving:!1,success:!1,error:!1},config:null}},mounted:function(){this.fetchConfig()},computed:{isFetchingConfig:function(){return this.state.fetching},hasLoadedConfig:function(){return null!==this.config}},methods:{fetchConfig:function(){var t=this;this.startFetching(),this.$http.get("config/all").then((function(e){var n=e.data;n&&(t.config=n)})).then((function(){t.stopFetching()}))},startFetching:function(){this.state.fetching=!0},stopFetching:function(){this.state.fetching=!1},startSaving:function(){this.saveState.saving=!0,this.resetSaving()},resetSaving:function(){this.saveState.success=!1,this.saveState.error=!1},saveSuccess:function(){this.saveState.saving=!1,this.saveState.success=!0,this.saveState.error=!1},saveFailed:function(){this.saveState.saving=!1,this.saveState.success=!1,this.saveState.error=!0},saveCrawlerMessages:function(t){var e=this,n=t||{},a=n.value;null!==a&&void 0!==a&&this.$http.post("config/crawler",{crawler_messages:a}).then((function(t){var n=t.data;n&&e.saveSuccess()})).catch((function(){e.saveFailed()}))},reloadPlaylist:function(){var t=this;this.$http.post("config/playlist").then((function(e){var n,a=e.data;if(a){var i=a.playlist;i&&((n=t.config.playlist).splice.apply(n,[0,t.config.playlist.length].concat(Object(ve["a"])(i))),t.saveSuccess())}})).catch((function(){t.saveFailed()}))},saveWeatherStation:function(t){var e=this,n=t||{},a=n.station;null!==a&&void 0!==a&&this.$http.post("config/weather-station",{station:a}).then((function(t){var n=t.data;n&&(e.config.config.primaryLocation=n.station,e.saveSuccess())})).catch((function(){e.saveFailed()}))},saveHistoricalDataStation:function(t){var e=this,n=t||{},a=n.stationID;a&&this.$http.post("config/historical-data-station",{stationID:a}).then((function(t){var n=t.data;n&&(e.config.config.historicalDataStationID=n.historicalDataStationID,e.saveSuccess())})).catch((function(){e.saveFailed()}))},saveClimateNormalsStation:function(t){var e=this,n=t||{},a=n.climateID,i=n.stationID,r=n.province;a&&i&&r&&this.$http.post("config/climate-normals-station",{climateID:a,stationID:i,province:r}).then((function(t){var n=t.data;n&&(e.config.config.climateNormalsClimateID=n.climateNormalsClimateID,e.config.config.climateNormalsStationID=n.climateNormalsStationID,e.config.config.climateNormalsProvince=n.climateNormalsProvince,e.saveSuccess())})).catch((function(){e.saveFailed()}))},saveMiscConfig:function(t){var e=this;t&&this.$http.post("/config/province-high-low-precip-tracking",t).then((function(t){var n=t.data;if(n){var a=n||{},i=a.provinceHighLowEnabled;e.config.config.provinceHighLowEnabled=i,e.saveSuccess()}})).catch((function(){e.saveFailed()}))}}};n("8a3f");ai.render=da,ai.__scopeId="data-v-321c23aa";var ii=ai,ri=n("6605"),oi=[{path:"/",component:Xn,name:"weather-channel"},{path:"/config",component:ii,name:"config"}],ci=Object(ri["a"])({history:Object(ri["b"])(),routes:oi}),si=ci,li="http://".concat(window.location.hostname),ui=window.location.port,di="".concat(li,":").concat(ui,"/"),hi=Object(a["f"])(Xn),bi=r.a.create({baseURL:di});hi.use(o["a"],bi),hi.use(ca),hi.use(si),hi.use(c["a"]),hi.mount("#app")},"62da":function(t,e,n){"use strict";n("1248")},"693b":function(t,e,n){},"765a":function(t,e,n){},8194:function(t,e,n){"use strict";n("10dd")},"82cf":function(t,e,n){},8874:function(t,e,n){"use strict";n("c533")},"8a3f":function(t,e,n){"use strict";n("8c1b")},"8c1b":function(t,e,n){},"906a":function(t,e,n){},"9a93":function(t,e,n){"use strict";n("9ed0")},"9c81":function(t,e,n){"use strict";n("4ad1")},"9ed0":function(t,e,n){},a2d1:function(t,e,n){"use strict";n("2ce7")},a7d0:function(t,e,n){"use strict";n("2cf2")},b38b:function(t,e,n){},c533:function(t,e,n){},db9a:function(t,e,n){"use strict";n("55de")},dda6:function(t,e,n){"use strict";n("82cf")},fade:function(t,e,n){"use strict";n("906a")},fd9a:function(t,e,n){"use strict";n("693b")}});
//# sourceMappingURL=app.f18b0dd5.js.map